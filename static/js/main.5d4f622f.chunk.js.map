{"version":3,"sources":["Components/Reader/Reader.module.css","Components/Reader/Counter/Counter.module.css","Components/Reader/Publication/Publication.module.css","Components/Reader/Controls/Controls.js","Components/Reader/Counter/Counter.js","Components/Reader/Publication/Publication.js","Components/Reader/Reader.js","Components/App/App.js","index.js","Components/Reader/Controls/Controls.module.css"],"names":["module","exports","reader","counter","publication","Controls","_ref","changePublication","publicationId","arrayLength","react_default","a","createElement","className","styles","controls","type","name","button","onClick","disabled","Counter","publicationNumber","defaultProps","Publication","title","text","Reader","state","backwardsPublication","_this","setState","prevState","handleQuery","forwardPublication","handleControl","target","_this$props","props","history","location","push","Object","objectSpread","search","concat","_this$props2","this","parsed","queryString","parse","idFromQuery","Number","item","items","Reader_Publication_Publication","Reader_Counter_Counter","length","Reader_Controls_Controls","Component","App","react_router","path","render","Components_Reader_Reader","assign","publicationsList","to","ReactDOM","react_router_dom","basename","component","document","getElementById"],"mappings":"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","file":"static/js/main.5d4f622f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__e_dt5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"Counter_counter__17xRx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"Publication_publication__33uER\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Controls.module.css';\n\nconst Controls = ({ changePublication, publicationId, arrayLength }) => (\n  <section className={styles.controls}>\n    <button\n      type=\"button\"\n      name=\"backwards\"\n      className={styles.button}\n      onClick={changePublication}\n      disabled={publicationId <= 0}\n    >\n      Назад\n    </button>\n    <button\n      type=\"button\"\n      name=\"forward\"\n      className={styles.button}\n      onClick={changePublication}\n      disabled={publicationId >= arrayLength - 1}\n    >\n      Вперед\n    </button>\n  </section>\n);\n\nControls.propTypes = {\n  changePublication: PropTypes.func.isRequired,\n  publicationId: PropTypes.number.isRequired,\n  arrayLength: PropTypes.number.isRequired,\n};\n\nexport default Controls;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Counter.module.css';\n\nconst Counter = ({ arrayLength, publicationNumber }) => (\n  <p className={styles.counter}>\n    {publicationNumber}/{arrayLength}\n  </p>\n);\n\nCounter.defaultProps = {\n  publicationNumber: 0,\n};\n\nCounter.propTypes = {\n  arrayLength: PropTypes.number.isRequired,\n  publicationNumber: PropTypes.number,\n};\n\nexport default Counter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Publication.module.css';\n\nconst Publication = ({ title, text }) => (\n  <article className={styles.publication}>\n    <h2>{title}</h2>\n    <p>{text}</p>\n  </article>\n);\n\nPublication.defaultProps = {\n  title: 'Title',\n  text: 'Publication text',\n};\nPublication.propTypes = {\n  title: PropTypes.string,\n  text: PropTypes.string,\n};\nexport default Publication;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport queryString from 'query-string';\nimport styles from './Reader.module.css';\nimport Controls from './Controls/Controls';\nimport Counter from './Counter/Counter';\nimport Publication from './Publication/Publication';\n\nclass Reader extends Component {\n  static propTypes = {\n    items: PropTypes.arrayOf(\n      PropTypes.shape({\n        title: PropTypes.string,\n        text: PropTypes.string,\n      }).isRequired,\n    ).isRequired,\n  };\n\n  state = {\n    publicationId: 0,\n  };\n\n  componentDidMount() {\n    const { history, location } = this.props;\n    const { publicationId } = this.state;\n\n    history.push({\n      ...location,\n      search: `?item=${publicationId + 1}`,\n    });\n\n    const parsed = queryString.parse(location.search);\n    const idFromQuery = Number(parsed.item - 1);\n\n    if (idFromQuery) {\n      this.setState({ publicationId: idFromQuery });\n      history.push({\n        ...location,\n        search: `?item=${idFromQuery + 1}`,\n      });\n    }\n  }\n\n  backwardsPublication = () => {\n    this.setState(prevState => {\n      return {\n        publicationId: prevState.publicationId - 1,\n      };\n    }, this.handleQuery);\n  };\n\n  forwardPublication = () => {\n    this.setState(prevState => {\n      return {\n        publicationId: prevState.publicationId + 1,\n      };\n    }, this.handleQuery);\n  };\n\n  handleControl = ({ target }) => {\n    const { name } = target;\n    if (name === 'backwards') this.backwardsPublication();\n    if (name === 'forward') this.forwardPublication();\n  };\n\n  handleQuery = () => {\n    const { history, location } = this.props;\n    const { publicationId } = this.state;\n\n    history.push({\n      ...location,\n      search: `?item=${publicationId + 1}`,\n    });\n  };\n\n  render() {\n    const { publicationId } = this.state;\n    const { items } = this.props;\n\n    return (\n      <div className={styles.reader}>\n        <Publication {...items[publicationId]} />\n        <Counter\n          arrayLength={items.length}\n          publicationNumber={publicationId + 1}\n        />\n        <Controls\n          changePublication={this.handleControl}\n          publicationId={publicationId}\n          arrayLength={items.length}\n        />\n      </div>\n    );\n  }\n}\n\nReader.propTypes = {\n  history: PropTypes.shape(PropTypes.object).isRequired,\n  location: PropTypes.shape(PropTypes.object).isRequired,\n};\n\nexport default Reader;\n","import React from 'react';\nimport { Route, Redirect, Switch } from 'react-router-dom';\nimport Reader from '../Reader/Reader';\nimport publicationsList from '../Data/publications.json';\n\nconst App = () => {\n  return (\n    <Switch>\n      <Route\n        path=\"/reader\"\n        render={props => <Reader {...props} items={publicationsList} />}\n      />\n      <Redirect push to=\"/reader\" />\n    </Switch>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter, Route } from 'react-router-dom';\nimport App from './Components/App/App';\n\nReactDOM.render(\n  <HashRouter basename=\"/\">\n    <Route component={App} />{' '}\n  </HashRouter>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__2B4Co\",\"button\":\"Controls_button__2G_hq\"};"],"sourceRoot":""}